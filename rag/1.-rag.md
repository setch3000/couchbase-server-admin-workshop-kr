# 1. RAG(검색, 증강, 생성) 실습

## 스코프(scope)와 콜렉션(collection) 추가

Data Tools 탭에서 기존에 생성한 vector-sample을 클릭한 후 Add Scope 메뉴를 클릭합니다.

<figure><img src="../.gitbook/assets/image (36).png" alt=""><figcaption></figcaption></figure>



Scope의 이름을 rag 로 입력하고 Create Scope를 클릭합니다.

<figure><img src="../.gitbook/assets/image (37).png" alt="" width="563"><figcaption></figcaption></figure>



다시 rag 스코프를 선택한 후, Add Collection 메뉴를 클릭합니다.

<figure><img src="../.gitbook/assets/image (38).png" alt=""><figcaption></figcaption></figure>

Collection의 이름을 pdf 로 입력하고, Create Collection을 클릭합니다.

<figure><img src="../.gitbook/assets/image (40).png" alt="" width="563"><figcaption></figcaption></figure>



## 벡터 인덱스 생성

1. [rag-pdf-index.json](https://drive.google.com/file/d/1vHeePZN_Qij-rTyA9zk1WS3eB4EE_GIl/view?usp=sharing) 파일을 다운로드 받습니다.
2. Data Tools의 Search 탭으로 이동한 후, Import Search Index를 클릭합니다.

<figure><img src="../.gitbook/assets/image (42).png" alt=""><figcaption></figcaption></figure>



3.  이전 단계에서 다운로드 받은 rag-pdf-index.json 파일을 선택힙니다. 화면 오른쪽 영역에 Index definition이 변경된 것을 확인 후 x 버튼을 클릭하여 닫습니다.

    <figure><img src="../.gitbook/assets/image (43).png" alt=""><figcaption></figcaption></figure>



4. Index Name을 `rag-pdf-index` 으로 지정합니다.
5. Bucket은 `vector-sample`을 선택합니다.&#x20;
6. Scope는 `rag`로 설정합니다.
7. Collection은 `pdf`로 설정합니다.

<figure><img src="../.gitbook/assets/image (44).png" alt=""><figcaption></figcaption></figure>



8. Configured Type Mappings 영역에서 embedding 키에는 vetor index가, text 키에는 text index가 매핑되어 있는 것을 확인합니다.
9. 나머지 설정은 그래두 두고 `Create Index`를 클릭하여 인덱스를 생성합니다.

<figure><img src="../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

