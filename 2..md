# 2. 데이터 도구로 샘플 데이터 탐색하기

## 클러스터 상태 확인하기

아래 스크린샷과 같이 STATUS가 `healthy`로 표시되면 cluster가 정상적으로 배포 완료된 것입니다.\
Capella 클러스터가 배포 완료되면, Couchbase Capella의 Data Tools를 사용하여 데이터를 탐색하고 작업할 수 있습니다.

<figure><img src=".gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

무료 티어 운영 클러스터에는 travel-sample 버킷이 포함되어 있으며, 이를 통해 Capella Operational의 Data Tools을 체험할 수 있습니다. 이 샘플 버킷에는 여행 예약에 사용되는 문서들이 들어 있습니다.



샘플 데이터를 탐색하면서 다음을 수행할 수 있습니다:

* Documents 뷰어를 통해 문서를 보고 편집하기
* Query 탭에서 SQL++ 쿼리 실행하기
* 인덱스를 활용하여 쿼리 속도 향상하기
* 쿼리 기록(Query History)을 이용해 이전 쿼리를 쿼리 편집기에 불러오기





생성된 클러스터의 이름을 클릭합니다.

<figure><img src=".gitbook/assets/image (9).png" alt=""><figcaption></figcaption></figure>







## Documents Viewer로 문서(Document) 보기 및 편집하기

클러스터에서 문서(Document)를 보랴먄:

1. Data Tools > Documents로 이동합니다.
2. Get documents from 섹션에서 다음을 선택합니다:
   * Bucket list: travel-sample
   * Scope list: inventory
   * Collection list: airport
3. Paginate and Filter documents 섹션에서 Limit 값을 8로 변경하여 반환할 문서의 최대 개수를 지정합니다.
4. Get Documents를 클릭하여 반환된 문서 목록을 업데이트합니다.

<figure><img src=".gitbook/assets/image (10).png" alt=""><figcaption></figcaption></figure>



클러스터에서 문서(Document)를 편집하려면:

1. 문서 테이블에서 airport\_1261을 클릭합니다.

<figure><img src=".gitbook/assets/image (11).png" alt=""><figcaption></figcaption></figure>



2. Edit Document 대화 상자에서 city 값을 `Amiens`에서 `Rouen`으로 변경한 후 Save Document를 클릭합니다.

<figure><img src=".gitbook/assets/image (12).png" alt=""><figcaption></figcaption></figure>

\


이제 문서 `airport_1261`의 city 값이 `Rouen`으로 업데이트되었습니다.&#x20;

<figure><img src=".gitbook/assets/image (13).png" alt=""><figcaption></figcaption></figure>



## Query 탭에서 Query하기 <a href="#first-query" id="first-query"></a>

Query 탭을 사용하여 SQL++ 쿼리를 실행할 수 있습니다.

\
첫 번째 쿼리를 실행하려면:

1. `Data Tools > Query` 로 이동합니다.
2. 쿼리 편집기에서 기존 텍스트를 아래 쿼리로 바꿉니다:

```n1ql
SELECT route.airlineid, airline.name, route.sourceairport, route.destinationairport
FROM `travel-sample` route
INNER JOIN `travel-sample` airline
ON route.airlineid = META(airline).id
WHERE route.type = "route"
AND route.destinationairport = "SFO"
ORDER BY route.sourceairport;
```



3. Enter 키를 누르거나 Run 버튼을 클릭합니다.
4. 쿼리 결과는 자동으로 JSON 형식으로 표시됩니다.

<figure><img src=".gitbook/assets/image (23).png" alt=""><figcaption></figcaption></figure>





## iQ Insights로 결과 탐색하기

iQ Insights를 사용하면 AI의 도움을 받아 다양한 관련 인사이트를 생성할 수 있습니다. 이렇게 생성된 인사이트는 관련된 질문, 설명, 그리고 쿼리 결과의 시각화 형태로 제공되어 데이터를 더 잘 이해하는 데 도움이 됩니다.

쿼리 결과에 대한 인사이트를 얻으려면, 쿼리 결과 창에서 iQ Insights 탭을 선택하고 Generate Now 버튼을 클릭합니다.

<figure><img src=".gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>



iQ Insights에 대해 더 알아보려면 _Explore iQ Insight&#x73;_&#xB97C; 참고하세요.



<figure><img src=".gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>



확대 버튼을 클릭합니다.

<figure><img src=".gitbook/assets/image (6).png" alt=""><figcaption></figcaption></figure>



첫 번째 생성된 질문을 기반으로, LLM은 막대 차트를 통해 시각적으로 응답을 추론할 수 있습니다.

설명과 함께, (예시: 어떤 국가들이 항공사 수가 가장 많거나 적은지) 데이터를 챠트로 확인할 수 있습니다.

<figure><img src=".gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>



사용자는 본인에게 가장 유용한 시각화를 선택하여 활용할 수 있습니다.

UI에서는 차트를 PNG 형식으로 내보내기, 래쏘(lasso) 또는 박스 선택(box selection) 기능을 이용한 영역 선택, 시각화의 확대/축소 기능을 제공합니다.

\
iQ Insights는 Capella iQ에서 생성된 쿼리를 포함한 모든 SELECT 쿼리에서 사용할 수 있습니다.







## 쿼리 히스토리 접근하기

쿼리 히스토리를 사용하면 이전 쿼리를 쿼리 편집기에 불러올 수 있습니다.



쿼리 히스토리에 접근하려면:

1. Recent Queries를 클릭합니다.

<figure><img src=".gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>



2. 오른쪽 창에 표시되는 쿼리 히스토리에서 원하는 쿼리를 선택합니다.
3. Run을 클릭하여 해당 쿼리를 다시 실행합니다.

<figure><img src=".gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>



